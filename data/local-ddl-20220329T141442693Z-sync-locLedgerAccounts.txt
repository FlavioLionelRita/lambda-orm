CREATE TABLE TBL_LAM_ACCOUNT_TYPE (ACCOUNT_TYPE_ID serial,CODE VARCHAR(50) NOT NULL ,NAME VARCHAR(100) NOT NULL ,DESCRIPTION VARCHAR(150)  ,DISABLED BOOLEAN NOT NULL ,BALANCE_TYPE INTEGER NOT NULL ,INCRESED_BY INTEGER NOT NULL ,CONSTRAINT TBL_LAM_ACCOUNT_TYPE_PK PRIMARY KEY (ACCOUNT_TYPE_ID),CONSTRAINT TBL_LAM_ACCOUNT_TYPE_UK UNIQUE (CODE));
CREATE TABLE TBL_LAM_STATEMENT_CYCLE (STATEMENT_CYCLE_ID serial,CODE VARCHAR(50) NOT NULL ,NAME VARCHAR(100) NOT NULL ,CYCLE_DAY INTEGER NOT NULL ,DESCRIPTION VARCHAR(150)  ,DISABLED BOOLEAN  ,CONSTRAINT TBL_LAM_STATEMENT_CYCLE_PK PRIMARY KEY (STATEMENT_CYCLE_ID),CONSTRAINT TBL_LAM_STATEMENT_CYCLE_UK UNIQUE (CODE));
CREATE TABLE TBL_LAM_CREDITOR (CREDITOR_ID serial,CREDITOR_CODE VARCHAR(50) NOT NULL ,NAME VARCHAR(100) NOT NULL ,PARTY_ROLE_ID INTEGER NOT NULL ,LOC_ADDRESS_ID INTEGER NOT NULL ,STREET_NAME VARCHAR(70) NOT NULL ,STREET_NUMBER VARCHAR(10) NOT NULL ,POSTAL_CODE VARCHAR(20) NOT NULL ,CITY_NAME VARCHAR(50) NOT NULL ,COUNTRY VARCHAR(5) NOT NULL ,CONTACT_NAME VARCHAR(50) NOT NULL ,CONTACT_EMAIL VARCHAR(50) NOT NULL ,CONTACT_PARTY_ID INTEGER NOT NULL ,CONSTRAINT TBL_LAM_CREDITOR_PK PRIMARY KEY (CREDITOR_ID),CONSTRAINT TBL_LAM_CREDITOR_UK UNIQUE (CREDITOR_CODE));
CREATE TABLE TBL_LAM_ACCOUNT (ACCOUNT_ID serial,ACCOUNT_NUMBER VARCHAR(50) NOT NULL ,NAME VARCHAR(100) NOT NULL ,CURRENCY_REF_ID INTEGER  ,ACCOUNT_TYPE_ID INTEGER  ,ACCOUNT_STATUS_ID INTEGER  ,ACCOUNT_HOLDER_REF_ID INTEGER  ,BALANCE DECIMAL(10,4) NOT NULL ,STATEMENT_CYCLE_ID INTEGER  ,REGISTRATION_DATE TIMESTAMP NOT NULL ,CREDITOR_ID INTEGER  ,CONSTRAINT TBL_LAM_ACCOUNT_PK PRIMARY KEY (ACCOUNT_ID),CONSTRAINT TBL_LAM_ACCOUNT_UK UNIQUE (ACCOUNT_NUMBER));
CREATE TABLE TBL_SRB_REFERENCE (REFERENCE_ID serial,REF_TYPE VARCHAR(50) NOT NULL ,REF_ID VARCHAR(100) NOT NULL ,NAME VARCHAR(200)  ,CONSTRAINT TBL_SRB_REFERENCE_PK PRIMARY KEY (REFERENCE_ID));
CREATE TABLE TBL_LAM_ACCOUNT_STATUS_HISTORY (ACCOUNT_STATUS_HISTORY_ID serial,ACCOUNT_STATUS INTEGER NOT NULL ,REGISTER_DATE TIMESTAMP NOT NULL ,USER_REF_ID INTEGER NOT NULL ,isActive BOOLEAN  ,REASON VARCHAR(50) NOT NULL ,REMARKS VARCHAR(250)  ,ACCOUNT_ID INTEGER NOT NULL ,CONSTRAINT TBL_LAM_ACCOUNT_STATUS_HISTORY_PK PRIMARY KEY (ACCOUNT_STATUS_HISTORY_ID));
ALTER TABLE TBL_LAM_ACCOUNT ADD CONSTRAINT TBL_LAM_ACCOUNT_accountType_FK FOREIGN KEY (ACCOUNT_TYPE_ID) REFERENCES TBL_LAM_ACCOUNT_TYPE (ACCOUNT_TYPE_ID);
ALTER TABLE TBL_LAM_ACCOUNT ADD CONSTRAINT TBL_LAM_ACCOUNT_currencyRef_FK FOREIGN KEY (CURRENCY_REF_ID) REFERENCES TBL_SRB_REFERENCE (REFERENCE_ID);
ALTER TABLE TBL_LAM_ACCOUNT ADD CONSTRAINT TBL_LAM_ACCOUNT_accountStatus_FK FOREIGN KEY (ACCOUNT_STATUS_ID) REFERENCES TBL_LAM_ACCOUNT_STATUS_HISTORY (ACCOUNT_STATUS_HISTORY_ID);
ALTER TABLE TBL_LAM_ACCOUNT ADD CONSTRAINT TBL_LAM_ACCOUNT_accountHolderRef_FK FOREIGN KEY (ACCOUNT_HOLDER_REF_ID) REFERENCES TBL_SRB_REFERENCE (REFERENCE_ID);
ALTER TABLE TBL_LAM_ACCOUNT ADD CONSTRAINT TBL_LAM_ACCOUNT_statementCycle_FK FOREIGN KEY (STATEMENT_CYCLE_ID) REFERENCES TBL_LAM_STATEMENT_CYCLE (STATEMENT_CYCLE_ID);
ALTER TABLE TBL_LAM_ACCOUNT ADD CONSTRAINT TBL_LAM_ACCOUNT_creditor_FK FOREIGN KEY (CREDITOR_ID) REFERENCES TBL_LAM_CREDITOR (CREDITOR_ID);
ALTER TABLE TBL_LAM_ACCOUNT_STATUS_HISTORY ADD CONSTRAINT TBL_LAM_ACCOUNT_STATUS_HISTORY_userRef_FK FOREIGN KEY (USER_REF_ID) REFERENCES TBL_SRB_REFERENCE (REFERENCE_ID);
ALTER TABLE TBL_LAM_ACCOUNT_STATUS_HISTORY ADD CONSTRAINT TBL_LAM_ACCOUNT_STATUS_HISTORY_account_FK FOREIGN KEY (ACCOUNT_ID) REFERENCES TBL_LAM_ACCOUNT (ACCOUNT_ID);