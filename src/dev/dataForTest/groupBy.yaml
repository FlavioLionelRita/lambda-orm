name: groupBy
data:
  a:
    id: 1
test:
  - name: groupBy 1
    sentences: []
    errors: 1
    expression: __Products.map(p=>{maxPrice:max(p.price)})
    error: >-
      SintaxisError: complete expression:
      __Products.map(p=>{maxPrice:max(p.price)}) error: SchemaError: entity
      __Products not found
  - name: groupBy 2
    sentences: []
    errors: 1
    expression: __Products.map(p=>{minPrice:min(p.price)})
    error: >-
      SintaxisError: complete expression:
      __Products.map(p=>{minPrice:min(p.price)}) error: SchemaError: entity
      __Products not found
  - name: groupBy 3
    sentences: []
    errors: 1
    expression: __Products.map(p=>{total:sum(p.price)})
    error: >-
      SintaxisError: complete expression:
      __Products.map(p=>{total:sum(p.price)}) error: SchemaError: entity
      __Products not found
  - name: groupBy 4
    sentences: []
    errors: 1
    expression: __Products.map(p=>{average:round(avg(p.price),4)})
    error: >-
      SintaxisError: complete expression:
      __Products.map(p=>{average:round(avg(p.price),4)}) error: SchemaError:
      entity __Products not found
  - name: groupBy 5
    sentences: []
    errors: 1
    expression: __Products.map(p=>{count:count(1)})
    error: >-
      SintaxisError: complete expression: __Products.map(p=>{count:count(1)})
      error: SchemaError: entity __Products not found
  - name: groupBy 6
    sentences: []
    errors: 1
    expression: __Products.map(p=>{category:p.categoryId,largestPrice:max(p.price)})
    error: >-
      SintaxisError: complete expression:
      __Products.map(p=>{category:p.categoryId,largestPrice:max(p.price)})
      error: SchemaError: entity __Products not found
  - name: groupBy 7
    sentences: []
    errors: 1
    expression: __Products.map(p=>{category:p.category.name,largestPrice:max(p.price)})
    error: >-
      SintaxisError: complete expression:
      __Products.map(p=>{category:p.category.name,largestPrice:max(p.price)})
      error: SchemaError: entity __Products not found
  - name: groupBy 8
    data: a
    sentences: []
    errors: 1
    expression: >-
      __Products.filter(p=>(p.id===id)).map(p=>{name:p.name,source:p.price,result:abs(p.price)})
    error: >-
      SintaxisError: complete expression:
      __Products.filter(p=>(p.id===id)).map(p=>{name:p.name,source:p.price,result:abs(p.price)})
      error: SchemaError: entity __Products not found
  - name: groupBy 9
    sentences: []
    errors: 1
    expression: >-
      __Products.having(p=>(max(p.price)>100)).map(p=>{category:p.category.name,largestPrice:max(p.price)})
    error: >-
      SintaxisError: complete expression:
      __Products.having(p=>(max(p.price)>100)).map(p=>{category:p.category.name,largestPrice:max(p.price)})
      error: SchemaError: entity __Products not found
  - name: query 10
    sentences: []
    errors: 1
    expression: >-
      details.map(p=>{subTotal:sum((((p.unitPrice*p.quantity)*(1-(p.discount/100)))*100))}).sort(p=>p.subTotal)
    error: >-
      SintaxisError: complete expression:
      details.map(p=>{subTotal:sum((((p.unitPrice*p.quantity)*(1-(p.discount/100)))*100))}).sort(p=>p.subTotal)
      error: SchemaError: entity details not found
errors: 10
