ALTER TABLE Positions DROP CONSTRAINT Positions_device_FK;
UPDATE Positions a SET journeyId = NULL;
ALTER TABLE Positions DROP CONSTRAINT Positions_journey_FK;
ALTER TABLE Journeys DROP CONSTRAINT Journeys_device_FK;
UPDATE Journeys a SET startPositionId = NULL;
ALTER TABLE Journeys DROP CONSTRAINT Journeys_startPosition_FK;
UPDATE Journeys a SET endPositionId = NULL;
ALTER TABLE Journeys DROP CONSTRAINT Journeys_endPosition_FK;
ALTER TABLE Files DROP CONSTRAINT Files_device_FK;
UPDATE Files a SET journeyId = NULL;
ALTER TABLE Files DROP CONSTRAINT Files_journey_FK;
UPDATE Files a SET componentId = NULL;
ALTER TABLE Files DROP CONSTRAINT Files_component_FK;
UPDATE Files a SET startPositionId = NULL;
ALTER TABLE Files DROP CONSTRAINT Files_startPosition_FK;
UPDATE Files a SET endPositionId = NULL;
ALTER TABLE Files DROP CONSTRAINT Files_endPosition_FK;
DROP TABLE IF EXISTS Components;
DROP INDEX Positions_time;
DROP TABLE IF EXISTS Positions;
DROP INDEX Journeys_deviceId;
DROP TABLE IF EXISTS Journeys;
DROP TABLE IF EXISTS Files;
DROP TABLE IF EXISTS Devices;