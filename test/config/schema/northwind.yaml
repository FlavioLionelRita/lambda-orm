name: northwind
abstract:
  Address:
    properties:
      - name: address 
        mapping: Address
        type: string
        length: 80
      - name: city 
        mapping: City
        type: string
        length: 80
      - name: region 
        mapping: Region
        type: string
        length: 80
      - name: postalCode 
        mapping: PostalCode
        type: string
        length: 20
      - name: country 
        mapping: Country
        type: string
        length: 80 
enums:
entities:
  - name: Employees
    _extends: [northwind.abstract.Address]       
    mapping: Employees
    properties:
      - name: id 
        mapping: EmployeeID
        type: integer
        nullable: false
        primaryKey: true
        autoincrement: true
      - name: lastName 
        mapping: LastName
        nullable: false
        type: string
        length: 80
      - name: firstName
        mapping: FirstName
        nullable: false
        type: string
        length: 80
      - name: title
        mapping: Title
        type: string
        length: 80
      - name: titleOfCourtesy
        mapping: TitleOfCourtesy
        type: string
        length: 80
      - name: birthDate
        mapping: BirthDate
        type: datetime
      - name: hireDate
        mapping: HireDate
        type: datetime
      - name: phone
        mapping:  HomePhone
        type: string
        length: 80
      - name: reportsToId 
        mapping:  ReportsTo
        type: integer
    relations:
      - name: reportsTo
        type: oneToMany
        from: reportsToId
        to: 
          entity: Employees
          property: id
  - name: Categories
    mapping: Categories
    properties:
      - name: id
        mapping: CategoryID
        type: integer
        nullable: false
        primaryKey: true
        autoincrement: true
      - name: name
        mapping: CategoryName
        nullable: false
        type: string
        length: 80
      - name: description
        mapping: Description
        type: string
        length: 1000
  - name: Customers
    _extends: [northwind.abstract.Address]
    mapping: Customers
    properties:
      - name: id
        mapping: CustomerID
        type: integer
        nullable: false
        primaryKey: true
        autoincrement: true
      - name: name
        mapping: CompanyName
        nullable: false
        type: string
        length: 80
      - name: contact 
        mapping: ContactName
        type: string
        length: 80
      - name: phone
        mapping: ContactTitle
        type: string
        length: 80
    relations:  
      - name: orders
        type: manyToOne 
        from: id
        to: 
          entity: Orders
          property: customerId
  - name: Shippers
    mapping: Shippers
    properties:
      - name: id 
        mapping: ShipperID
        type: integer
        nullable: false
        primaryKey: true
        autoincrement: true
      - name: name 
        mapping: CompanyName
        nullable: false
        type: string
        length: 80
      - name: phone
        mapping: Phone
        type: string
        length: 20
  - name: Suppliers
    _extends: [northwind.abstract.Address]
    mapping: Suppliers
    properties:
      - name: id
        mapping: SupplierID
        type: integer
        nullable: false
        primaryKey: true
        autoincrement: true
      - name: name
        mapping: CompanyName
        nullable: false
        type: string
        length: 80
      - name: contact
        mapping: ContactName
        type: string
        length: 80
      - name: phone
        mapping: Phone
        type: string
        length: 20
      - name: homepage 
        mapping: HomePage
        type: string
        length: 80  
  - name: Products
    mapping: Products
    properties:
      - name: id 
        mapping: ProductID
        type: integer
        nullable: false
        primaryKey: true
        autoincrement: true 
      - name: name 
        mapping: ProductName
        nullable: false
        type: string
        length: 80
      - name: supplierId 
        mapping: SupplierID
        type: integer
      - name: categoryId
        mapping: CategoryID
        type: integer
      - name: quantity 
        mapping: QuantityPerUnit
        type: decimal
      - name: price
        mapping: UnitPrice
        type: decimal
        default: 0
      - name: inStock
        mapping: UnitsInStock
        type: decimal
        default: 0
      - name: onOrder 
        mapping: UnitsOnOrder
        type: decimal
        default: 0
      - name: reorderLevel
        mapping: ReorderLevel
        type: decimal
        default: 0
      - name: discontinued
        mapping: Discontinued
        type: bool
        default: false
    relations:    
      - name: supplier
        type: oneToMany 
        from: supplierId
        to: 
          entity: Suppliers
          property: id 
      - name: category
        type: oneToMany  
        from: categoryId
        to: 
          entity: Categories
          property: id
  - name: Orders
    mapping: Orders
    properties:
      - name: id
        mapping: OrderID
        type: integer
        nullable: false
        primaryKey: true
        autoincrement: true 
      - name: customerId 
        mapping: CustomerID
        nullable: false
        type: integer
      - name: employeeId 
        mapping: EmployeeID
        nullable: false
        type: integer 
      - name: orderDate
        mapping: OrderDate
        type: datetime 
      - name: requiredDate 
        mapping: RequiredDate
        type: datetime
      - name: shippedDate 
        mapping: ShippedDate
        type: datetime 
      - name: shipViaId 
        mapping: ShipVia
        type: integer
      - name: freight 
        mapping: Freight
        type: decimal
      - name: name
        mapping: ShipName
        type: string
        length: 80  
      - name: address 
        mapping: ShipAddress
        type: string
        length: 80
      - name: city 
        mapping: ShipCity
        type: string
        length: 80
      - name: region
        mapping: ShipRegion
        type: string
        length: 80
      - name: postalCode
        mapping: ShipPostalCode
        type: string
        length: 20
      - name: country
        mapping: ShipCountry
        type: string
        length: 80 
    relations:    
      - name: customer
        type: oneToMany  
        from: customerId
        to: 
          entity: Customers
          property: id 
      - name: employee
        type: oneToMany  
        from: employeeId
        to: 
          entity: Employees
          property: id 
      - name: details
        type: manyToOne 
        from: id
        to: 
          entity: OrderDetails
          property: orderId  
  - name: OrderDetails
    mapping: Order Details
    properties:
      - name: orderId 
        mapping: OrderID
        nullable: false
        primaryKey: true
        type: integer
      - name: productId 
        mapping: ProductID
        nullable: false
        primaryKey: true          
        type: integer
      - name: unitPrice
        mapping: UnitPrice
        type: decimal
      - name: quantity 
        mapping: Quantity
        type: decimal
      - name: discount 
        mapping: Discount
        type: bool
    relations:   
      - name: order
        type: oneToMany 
        from: orderId
        to: 
          entity: Orders
          property: id 
      - name: product
        type: oneToMany 
        from: productId
        to: 
          entity: Products
          property: id 