<!DOCTYPE html><html class="default no-js"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Lambda ORM</title><meta name="description" content="Documentation for Lambda ORM"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">Lambda ORM</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1> Lambda ORM</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#lambda-orm" id="lambda-orm" style="color: inherit; text-decoration: none;">
  <h1>Lambda ORM</h1>
</a>

<a href="#important-the-library-is-in-an-alpha-version" id="important-the-library-is-in-an-alpha-version" style="color: inherit; text-decoration: none;">
  <h2><strong>IMPORTANT:</strong> the library is in an Alpha version!!!</h2>
</a>
<p>LambdaORM is an ORM based on using the same syntax of lambda expressions in javascript to write the expressions that will be translated into SQL sentences according to the database.
When starting from javascript lambda expressions we can use the IDE&#39;s own intellisense to write the sentences.</p>

<a href="#queries" id="queries" style="color: inherit; text-decoration: none;">
  <h2>Queries:</h2>
</a>
<p>Starting from the entity we have the following methods to assemble the sentences.</p>
<table>
<thead>
<tr>
<th align="left">Operator</th>
<th align="left">Description</th>
<th align="left">SQL Equivalent</th>
</tr>
</thead>
<tbody><tr>
<td align="left">filter</td>
<td align="left">To filter the records.</td>
<td align="left">WHERE</td>
</tr>
<tr>
<td align="left">having</td>
<td align="left">To filter on groupings.</td>
<td align="left">HAVING</td>
</tr>
<tr>
<td align="left">map</td>
<td align="left">To specify the fields to return.</td>
<td align="left">SELECT</td>
</tr>
<tr>
<td align="left">distinct</td>
<td align="left">to specify the fields to return by sending duplicate records.</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">first</td>
<td align="left">returns the first record</td>
<td align="left">SELECT + ORDER BY + LIMIT</td>
</tr>
<tr>
<td align="left">last</td>
<td align="left">returns the last record</td>
<td align="left">SELECT + ORDER BY DESC + LIMIT</td>
</tr>
<tr>
<td align="left">take</td>
<td align="left">returns one record</td>
<td align="left">SELECT +  LIMIT</td>
</tr>
<tr>
<td align="left">sort</td>
<td align="left">To specify the order in which the records are returned.</td>
<td align="left">ORDER BY</td>
</tr>
<tr>
<td align="left">page</td>
<td align="left">To paginate.</td>
<td align="left">LIMIT  (MySQL)</td>
</tr>
<tr>
<td align="left">include</td>
<td align="left">To get records of related entities</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">insert</td>
<td align="left">To insert records</td>
<td align="left">INSERT</td>
</tr>
<tr>
<td align="left">update</td>
<td align="left">To update records always including a filter</td>
<td align="left">UPDATE with WHERE</td>
</tr>
<tr>
<td align="left">updateAll</td>
<td align="left">to be able to update all the records of an entity</td>
<td align="left">UPDATE without WHERE</td>
</tr>
<tr>
<td align="left">delete</td>
<td align="left">To delete records always including a filter</td>
<td align="left">DELETE with WHERE</td>
</tr>
<tr>
<td align="left">deleteAll</td>
<td align="left">To be able to delete all records of an entity</td>
<td align="left">DELETE without WHERE</td>
</tr>
<tr>
<td align="left">bulkinsert</td>
<td align="left">to insert records in bulk</td>
<td align="left">INSERT</td>
</tr>
</tbody></table>
<p>There are no methods for the INNER JOIN clause since it is deduced when navigating through the relations of a property.</p>
<p>There are no methods for the GROUP BY clause since this is deduced when grouping methods are used.</p>
<p>Example:</p>
<pre><code class="language-ts"><span class="hl-0">OrderDetails</span><br/><span class="hl-1">    .</span><span class="hl-2">filter</span><span class="hl-1">(</span><span class="hl-0">p</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-0">p</span><span class="hl-1">.</span><span class="hl-0">order</span><span class="hl-1">.</span><span class="hl-0">customer</span><span class="hl-1">.</span><span class="hl-0">name</span><span class="hl-1"> == </span><span class="hl-0">customerName</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-2">map</span><span class="hl-1">(</span><span class="hl-0">p</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> ({ </span><span class="hl-0">order:</span><span class="hl-1"> </span><span class="hl-0">p</span><span class="hl-1">.</span><span class="hl-0">order</span><span class="hl-1">.</span><span class="hl-0">orderDate</span><span class="hl-1">, </span><span class="hl-0">total:</span><span class="hl-1"> </span><span class="hl-2">sum</span><span class="hl-1">(</span><span class="hl-0">p</span><span class="hl-1">.</span><span class="hl-0">quantity</span><span class="hl-1"> * </span><span class="hl-0">p</span><span class="hl-1">.</span><span class="hl-0">unitPrice</span><span class="hl-1">) }))</span><br/><span class="hl-1">    .</span><span class="hl-2">sort</span><span class="hl-1">(</span><span class="hl-0">p</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-2">desc</span><span class="hl-1">(</span><span class="hl-0">p</span><span class="hl-1">.</span><span class="hl-0">total</span><span class="hl-1">))</span>
</code></pre>
<p>the previous expression is equivalent to the following statement for MySQL.</p>
<pre><code class="language-sql"><span class="hl-3">SELECT</span><span class="hl-1"> o1.OrderDate </span><span class="hl-3">AS</span><span class="hl-1"> </span><span class="hl-4">`order`</span><span class="hl-1">, </span><span class="hl-2">SUM</span><span class="hl-1">(o.Quantity * o.UnitPrice) </span><span class="hl-3">AS</span><span class="hl-1"> </span><span class="hl-4">`total`</span><span class="hl-1"> </span><br/><span class="hl-3">FROM</span><span class="hl-1"> </span><span class="hl-4">`Order Details`</span><span class="hl-1"> o </span><br/><span class="hl-3">INNER JOIN</span><span class="hl-1"> Orders o1 </span><span class="hl-3">ON</span><span class="hl-1"> o1.OrderID = o.OrderID </span><br/><span class="hl-3">INNER JOIN</span><span class="hl-1"> Customers c </span><span class="hl-3">ON</span><span class="hl-1"> c.CustomerID = o1.CustomerID </span><br/><span class="hl-3">WHERE</span><span class="hl-1"> c.CompanyName = ? </span><br/><span class="hl-3">GROUP BY</span><span class="hl-1"> o1.OrderDate </span><br/><span class="hl-3">ORDER BY</span><span class="hl-1"> </span><span class="hl-4">`total`</span><span class="hl-1"> </span><span class="hl-3">desc</span><span class="hl-1"> </span>
</code></pre>
<p>More info:</p>
<ul>
<li><a href="https://github.com/FlavioLionelRita/lambdaorm/wiki/Query-Select">queries</a></li>
<li><a href="https://github.com/FlavioLionelRita/lambdaorm/wiki/Query-Insert">insert</a></li>
<li><a href="https://github.com/FlavioLionelRita/lambdaorm/wiki/Query-Update">update</a></li>
<li><a href="https://github.com/FlavioLionelRita/lambdaorm/wiki/Query-Delete">delete</a></li>
<li><a href="https://github.com/FlavioLionelRita/lambdaorm/wiki/Query-Bulkinsert">bulkinsert</a></li>
<li><a href="https://github.com/FlavioLionelRita/lambdaorm/wiki/Query-Include">include</a></li>
</ul>

<a href="#includes" id="includes" style="color: inherit; text-decoration: none;">
  <h2>Includes:</h2>
</a>
<p>LambdaORM includes the Include method to load related entities, both for OnetoMany, manyToOne and oneToOne relationships.</p>
<p>We can also apply filters or bring us some fields from the related entities.</p>
<p>For each include, a statement is executed bringing all the necessary records, then the objects with relationships are assembled in memory. In this way, multiple executions are avoided, considerably improving performance.</p>
<p>Includes can be used in selects, insert, update, delete, and bulckinsert.</p>
<p>Example:</p>
<pre><code class="language-ts"><span class="hl-0">Orders</span><br/><span class="hl-1">    .</span><span class="hl-2">filter</span><span class="hl-1">(</span><span class="hl-0">p</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-0">p</span><span class="hl-1">.</span><span class="hl-0">id</span><span class="hl-1"> === </span><span class="hl-0">id</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-2">include</span><span class="hl-1">(</span><span class="hl-0">p</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> [</span><span class="hl-0">p</span><span class="hl-1">.</span><span class="hl-0">customer</span><span class="hl-1">.</span><span class="hl-2">map</span><span class="hl-1">(</span><span class="hl-0">p</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> ({ </span><span class="hl-0">name:</span><span class="hl-1"> </span><span class="hl-0">p</span><span class="hl-1">.</span><span class="hl-0">name</span><span class="hl-1">, </span><span class="hl-0">address:</span><span class="hl-1"> </span><span class="hl-2">concat</span><span class="hl-1">(</span><span class="hl-0">p</span><span class="hl-1">.</span><span class="hl-0">address</span><span class="hl-1">, </span><span class="hl-4">&#39;, &#39;</span><span class="hl-1">, </span><span class="hl-0">p</span><span class="hl-1">.</span><span class="hl-0">city</span><span class="hl-1">, </span><span class="hl-4">&#39; (&#39;</span><span class="hl-1">, </span><span class="hl-0">p</span><span class="hl-1">.</span><span class="hl-0">postalCode</span><span class="hl-1">, </span><span class="hl-4">&#39;)  &#39;</span><span class="hl-1">, </span><span class="hl-0">p</span><span class="hl-1">.</span><span class="hl-0">country</span><span class="hl-1">) })),</span><br/><span class="hl-1">            </span><span class="hl-0">p</span><span class="hl-1">.</span><span class="hl-0">details</span><span class="hl-1">.</span><span class="hl-2">include</span><span class="hl-1">(</span><span class="hl-0">p</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-0">p</span><span class="hl-1">.</span><span class="hl-0">product</span><br/><span class="hl-1">                .</span><span class="hl-2">include</span><span class="hl-1">(</span><span class="hl-0">p</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-0">p</span><span class="hl-1">.</span><span class="hl-0">category</span><span class="hl-1">.</span><span class="hl-2">map</span><span class="hl-1">(</span><span class="hl-0">p</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-0">p</span><span class="hl-1">.</span><span class="hl-0">name</span><span class="hl-1">))</span><br/><span class="hl-1">            .</span><span class="hl-2">map</span><span class="hl-1">(</span><span class="hl-0">p</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-0">p</span><span class="hl-1">.</span><span class="hl-0">name</span><span class="hl-1">))</span><br/><span class="hl-1">        .</span><span class="hl-2">map</span><span class="hl-1">(</span><span class="hl-0">p</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> [</span><span class="hl-0">p</span><span class="hl-1">.</span><span class="hl-0">quantity</span><span class="hl-1">, </span><span class="hl-0">p</span><span class="hl-1">.</span><span class="hl-0">unitPrice</span><span class="hl-1">])])</span><br/><span class="hl-1">    .</span><span class="hl-2">map</span><span class="hl-1">(</span><span class="hl-0">p</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-0">p</span><span class="hl-1">.</span><span class="hl-0">orderDate</span><span class="hl-1">)</span>
</code></pre>
<p>The previous sentence will bring us the following result:</p>
<pre><code class="language-json"><span class="hl-1">[</span><br/><span class="hl-1">  [</span><br/><span class="hl-1">        {</span><br/><span class="hl-1">            </span><span class="hl-5">&quot;orderDate&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;1996-07-03T22:00:00.000Z&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-5">&quot;customer&quot;</span><span class="hl-1">: { </span><span class="hl-5">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;Vins et alcools Chevalier&quot;</span><span class="hl-1">, </span><span class="hl-5">&quot;address&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;59 rue de l&#39;Abbaye, Reims (51100)  France&quot;</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">            </span><span class="hl-5">&quot;details&quot;</span><span class="hl-1">: [</span><br/><span class="hl-1">                {</span><br/><span class="hl-1">                    </span><span class="hl-5">&quot;quantity&quot;</span><span class="hl-1">: </span><span class="hl-6">12</span><span class="hl-1">, </span><span class="hl-5">&quot;unitPrice&quot;</span><span class="hl-1">: </span><span class="hl-6">14</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-5">&quot;product&quot;</span><span class="hl-1">: { </span><span class="hl-5">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;Queso Cabrales&quot;</span><span class="hl-1">,     </span><span class="hl-5">&quot;category&quot;</span><span class="hl-1">: { </span><span class="hl-5">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;Dairy Products&quot;</span><span class="hl-1">}</span><br/><span class="hl-1">                    }</span><br/><span class="hl-1">                },</span><br/><span class="hl-1">                {</span><br/><span class="hl-1">                    </span><span class="hl-5">&quot;quantity&quot;</span><span class="hl-1">: </span><span class="hl-6">10</span><span class="hl-1">, </span><span class="hl-5">&quot;unitPrice&quot;</span><span class="hl-1">: </span><span class="hl-6">9.8</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-5">&quot;product&quot;</span><span class="hl-1">: { </span><span class="hl-5">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;Singaporean Hokkien Fried Mee&quot;</span><span class="hl-1">,    </span><span class="hl-5">&quot;category&quot;</span><span class="hl-1">: { </span><span class="hl-5">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;Grains/Cereals&quot;</span><span class="hl-1">     }}</span><br/><span class="hl-1">                },</span><br/><span class="hl-1">                {</span><br/><span class="hl-1">                    </span><span class="hl-5">&quot;quantity&quot;</span><span class="hl-1">: </span><span class="hl-6">5</span><span class="hl-1">, </span><span class="hl-5">&quot;unitPrice&quot;</span><span class="hl-1">: </span><span class="hl-6">34.8</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-5">&quot;product&quot;</span><span class="hl-1">: { </span><span class="hl-5">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;Mozzarella di Giovanni&quot;</span><span class="hl-1">, </span><span class="hl-5">&quot;category&quot;</span><span class="hl-1">: { </span><span class="hl-5">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;Dairy Products&quot;</span><span class="hl-1">    }    }</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">            ]</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    ]</span><br/><span class="hl-1">]</span>
</code></pre>
<p>More info:</p>
<ul>
<li><a href="https://github.com/FlavioLionelRita/lambdaorm/wiki/Query-Include">include</a></li>
</ul>

<a href="#using-the-orm" id="using-the-orm" style="color: inherit; text-decoration: none;">
  <h2>Using the ORM</h2>
</a>
<p>To work with the orm we do it through a singleton object called &quot;orm&quot;.</p>
<p>This object acts as a facade and from this we access all the functionalities.</p>
<p>to execute we have two methods, one lambda to which the expression is passed as a javascript lambda function and another expression to which we pass a string containing the expression.</p>
<p>If we are going to write the expression in the code, we should do it with the lambda function, since this way we will have the help of intellisense and make sure that the expression does not have syntax errors.</p>
<p>But if the expression comes to us from another side, UI, CLI command, persisted, etc, in this case we will use the expression in a string</p>
<p>Example:</p>
<pre><code class="language-ts"><span class="hl-7">import</span><span class="hl-1"> { </span><span class="hl-0">orm</span><span class="hl-1"> } </span><span class="hl-7">from</span><span class="hl-1"> </span><span class="hl-4">&#39;lambdaorm&#39;</span><br/><br/><span class="hl-1">(</span><span class="hl-3">async</span><span class="hl-1"> () </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-0">orm</span><span class="hl-1">.</span><span class="hl-2">init</span><span class="hl-1">()</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-7">try</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-8">//writing the statement as a lambda expression in javascript</span><br/><span class="hl-1">        </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-2">query</span><span class="hl-1"> = (</span><span class="hl-0">id</span><span class="hl-1">: </span><span class="hl-9">number</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-0">Orders</span><span class="hl-1">.</span><span class="hl-2">filter</span><span class="hl-1">(</span><span class="hl-0">p</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-0">p</span><span class="hl-1">.</span><span class="hl-0">id</span><span class="hl-1"> === </span><span class="hl-0">id</span><span class="hl-1">).</span><span class="hl-2">include</span><span class="hl-1">(</span><span class="hl-0">p</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-0">p</span><span class="hl-1">.</span><span class="hl-0">details</span><span class="hl-1">)</span><br/><span class="hl-1">        </span><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-0">result</span><span class="hl-1"> = </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-0">orm</span><span class="hl-1">.</span><span class="hl-2">lambda</span><span class="hl-1">(</span><span class="hl-0">query</span><span class="hl-1">).</span><span class="hl-2">execute</span><span class="hl-1">({ </span><span class="hl-0">id:</span><span class="hl-1"> </span><span class="hl-6">10248</span><span class="hl-1"> }, </span><span class="hl-4">&#39;source&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">        </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-2">log</span><span class="hl-1">(</span><span class="hl-9">JSON</span><span class="hl-1">.</span><span class="hl-2">stringify</span><span class="hl-1">(</span><span class="hl-0">result</span><span class="hl-1">, </span><span class="hl-3">null</span><span class="hl-1">, </span><span class="hl-6">2</span><span class="hl-1">))</span><br/><br/><span class="hl-1">        </span><span class="hl-8">//writing the statement as a lambda expression to a text string</span><br/><span class="hl-1">        </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-10">expression</span><span class="hl-1"> = </span><span class="hl-4">&#39;Orders.filter(p =&gt; p.id === id).include(p =&gt; p.details)&#39;</span><br/><span class="hl-1">        </span><span class="hl-0">result</span><span class="hl-1"> = </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-0">orm</span><span class="hl-1">.</span><span class="hl-2">expression</span><span class="hl-1">(</span><span class="hl-0">expression</span><span class="hl-1">).</span><span class="hl-2">execute</span><span class="hl-1">({ </span><span class="hl-0">id:</span><span class="hl-1"> </span><span class="hl-6">10248</span><span class="hl-1"> }, </span><span class="hl-4">&#39;source&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">        </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-2">log</span><span class="hl-1">(</span><span class="hl-9">JSON</span><span class="hl-1">.</span><span class="hl-2">stringify</span><span class="hl-1">(</span><span class="hl-0">result</span><span class="hl-1">, </span><span class="hl-3">null</span><span class="hl-1">, </span><span class="hl-6">2</span><span class="hl-1">))</span><br/><br/><span class="hl-1">    } </span><span class="hl-7">catch</span><span class="hl-1"> (</span><span class="hl-0">error</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-2">log</span><span class="hl-1">(</span><span class="hl-0">error</span><span class="hl-1">)</span><br/><span class="hl-1">    } </span><span class="hl-7">finally</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-0">orm</span><span class="hl-1">.</span><span class="hl-2">end</span><span class="hl-1">()</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">})()</span>
</code></pre>
<p>Class ORM</p>
<table>
<thead>
<tr>
<th align="left">method</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">version</td>
<td align="left">Prints lambdaorm version this project uses.</td>
</tr>
<tr>
<td align="left">init</td>
<td align="left">Generates lambdaorm project structure.</td>
</tr>
<tr>
<td align="left">model</td>
<td align="left">Generate model.</td>
</tr>
<tr>
<td align="left">sync</td>
<td align="left">Syncronize database.</td>
</tr>
<tr>
<td align="left">export</td>
<td align="left">Export data from a database</td>
</tr>
<tr>
<td align="left">import</td>
<td align="left">Import data from file to database</td>
</tr>
<tr>
<td align="left">drop</td>
<td align="left">Removes all database objects but not the database.</td>
</tr>
<tr>
<td align="left">expression</td>
<td align="left">Run an expression lambda or return information</td>
</tr>
</tbody></table>

<a href="#transactions" id="transactions" style="color: inherit; text-decoration: none;">
  <h2>Transactions</h2>
</a>
<p>To work with transactions use the orm.transaction method.</p>
<p>This method receives the name of the database as the first argument and as the second it is a callback function that does not pass a Transaction object, in the example we name it tr.</p>
<p>We use the lambda or expression method to execute the sentence (as we found it written).</p>
<p>When we reach the end and return the callback, the orm will internally execute the COMMIT, if there is an exception, internally the ROLLBACK will be executed</p>
<p>Example</p>
<pre><code class="language-ts"><span class="hl-7">import</span><span class="hl-1"> { </span><span class="hl-0">orm</span><span class="hl-1"> } </span><span class="hl-7">from</span><span class="hl-1"> </span><span class="hl-4">&#39;lambdaorm&#39;</span><br/><br/><span class="hl-1">(</span><span class="hl-3">async</span><span class="hl-1"> () </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-10">order</span><span class="hl-1">={</span><span class="hl-0">customerId:</span><span class="hl-4">&quot;VINET&quot;</span><span class="hl-1">,</span><span class="hl-0">employeeId:</span><span class="hl-6">5</span><span class="hl-1">,</span><span class="hl-0">orderDate:</span><span class="hl-4">&quot;1996-07-03T22:00:00.000Z&quot;</span><span class="hl-1">,</span><span class="hl-0">requiredDate:</span><span class="hl-4">&quot;1996-07-31T22:00:00.000Z&quot;</span><span class="hl-1">,</span><span class="hl-0">shippedDate:</span><span class="hl-4">&quot;1996-07-15T22:00:00.000Z&quot;</span><span class="hl-1">,</span><span class="hl-0">shipViaId:</span><span class="hl-6">3</span><span class="hl-1">,</span><span class="hl-0">freight:</span><span class="hl-6">32.38</span><span class="hl-1">,</span><span class="hl-0">name:</span><span class="hl-4">&quot;Vins et alcools Chevalier&quot;</span><span class="hl-1">,</span><span class="hl-0">address:</span><span class="hl-4">&quot;59 rue de l-Abbaye&quot;</span><span class="hl-1">,</span><span class="hl-0">city:</span><span class="hl-4">&quot;Reims&quot;</span><span class="hl-1">,</span><span class="hl-0">region:</span><span class="hl-3">null</span><span class="hl-1">,</span><span class="hl-0">postalCode:</span><span class="hl-4">&quot;51100&quot;</span><span class="hl-1">,</span><span class="hl-0">country:</span><span class="hl-4">&quot;France&quot;</span><span class="hl-1">,</span><span class="hl-0">details:</span><span class="hl-1">[{</span><span class="hl-0">productId:</span><span class="hl-6">11</span><span class="hl-1">,</span><span class="hl-0">unitPrice:</span><span class="hl-6">14</span><span class="hl-1">,</span><span class="hl-0">quantity:</span><span class="hl-6">12</span><span class="hl-1">,</span><span class="hl-0">discount:</span><span class="hl-1">!</span><span class="hl-6">1</span><span class="hl-1">},{</span><span class="hl-0">productId:</span><span class="hl-6">42</span><span class="hl-1">,</span><span class="hl-0">unitPrice:</span><span class="hl-6">9.8</span><span class="hl-1">,</span><span class="hl-0">quantity:</span><span class="hl-6">10</span><span class="hl-1">,</span><span class="hl-0">discount:</span><span class="hl-1">!</span><span class="hl-6">1</span><span class="hl-1">},{</span><span class="hl-0">productId:</span><span class="hl-6">72</span><span class="hl-1">,</span><span class="hl-0">unitPrice:</span><span class="hl-6">34.8</span><span class="hl-1">,</span><span class="hl-0">quantity:</span><span class="hl-6">5</span><span class="hl-1">,</span><span class="hl-0">discount:</span><span class="hl-1">!</span><span class="hl-6">1</span><span class="hl-1">}]};</span><br/><br/><span class="hl-1">    </span><span class="hl-7">try</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">orm</span><span class="hl-1">.</span><span class="hl-2">transaction</span><span class="hl-1">(</span><span class="hl-4">&#39;source&#39;</span><span class="hl-1">, </span><span class="hl-3">async</span><span class="hl-1"> (</span><span class="hl-0">tr</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-8">// create order</span><br/><span class="hl-1">            </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-10">orderId</span><span class="hl-1"> = </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-0">tr</span><span class="hl-1">.</span><span class="hl-2">lambda</span><span class="hl-1">(() </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-0">Orders</span><span class="hl-1">.</span><span class="hl-2">insert</span><span class="hl-1">().</span><span class="hl-2">include</span><span class="hl-1">(</span><span class="hl-0">p</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-0">p</span><span class="hl-1">.</span><span class="hl-0">details</span><span class="hl-1">), </span><span class="hl-0">order</span><span class="hl-1">)</span><br/><span class="hl-1">            </span><span class="hl-8">// get order</span><br/><span class="hl-1">            </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-10">result</span><span class="hl-1"> = </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-0">tr</span><span class="hl-1">.</span><span class="hl-2">lambda</span><span class="hl-1">((</span><span class="hl-0">id</span><span class="hl-1">:</span><span class="hl-9">number</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-0">Orders</span><span class="hl-1">.</span><span class="hl-2">filter</span><span class="hl-1">(</span><span class="hl-0">p</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-0">p</span><span class="hl-1">.</span><span class="hl-0">id</span><span class="hl-1"> === </span><span class="hl-0">id</span><span class="hl-1">).</span><span class="hl-2">include</span><span class="hl-1">(</span><span class="hl-0">p</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-0">p</span><span class="hl-1">.</span><span class="hl-0">details</span><span class="hl-1">), { </span><span class="hl-0">id:</span><span class="hl-1"> </span><span class="hl-0">orderId</span><span class="hl-1"> })</span><br/><span class="hl-1">            </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-10">order2</span><span class="hl-1"> = </span><span class="hl-0">result</span><span class="hl-1">[</span><span class="hl-6">0</span><span class="hl-1">]</span><br/><span class="hl-1">            </span><span class="hl-8">// updated order</span><br/><span class="hl-1">            </span><span class="hl-0">order2</span><span class="hl-1">.</span><span class="hl-0">address</span><span class="hl-1"> = </span><span class="hl-4">&#39;changed 59 rue de l-Abbaye&#39;</span><br/><span class="hl-1">            </span><span class="hl-0">order2</span><span class="hl-1">.</span><span class="hl-0">details</span><span class="hl-1">[</span><span class="hl-6">0</span><span class="hl-1">].</span><span class="hl-0">discount</span><span class="hl-1"> = </span><span class="hl-3">true</span><br/><span class="hl-1">            </span><span class="hl-0">order2</span><span class="hl-1">.</span><span class="hl-0">details</span><span class="hl-1">[</span><span class="hl-6">1</span><span class="hl-1">].</span><span class="hl-0">unitPrice</span><span class="hl-1"> = </span><span class="hl-6">10</span><br/><span class="hl-1">            </span><span class="hl-0">order2</span><span class="hl-1">.</span><span class="hl-0">details</span><span class="hl-1">[</span><span class="hl-6">2</span><span class="hl-1">].</span><span class="hl-0">quantity</span><span class="hl-1"> = </span><span class="hl-6">7</span><br/><span class="hl-1">            </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-10">updateCount</span><span class="hl-1"> = </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-0">tr</span><span class="hl-1">.</span><span class="hl-2">lambda</span><span class="hl-1">(() </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-0">Orders</span><span class="hl-1">.</span><span class="hl-2">update</span><span class="hl-1">().</span><span class="hl-2">include</span><span class="hl-1">(</span><span class="hl-0">p</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-0">p</span><span class="hl-1">.</span><span class="hl-0">details</span><span class="hl-1">), </span><span class="hl-0">order2</span><span class="hl-1">)</span><br/><span class="hl-1">            </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-2">log</span><span class="hl-1">(</span><span class="hl-0">updateCount</span><span class="hl-1">)</span><br/><span class="hl-1">            </span><span class="hl-8">// get order</span><br/><span class="hl-1">            </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-10">order3</span><span class="hl-1"> = </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-0">tr</span><span class="hl-1">.</span><span class="hl-2">lambda</span><span class="hl-1">((</span><span class="hl-0">id</span><span class="hl-1">:</span><span class="hl-9">number</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-0">Orders</span><span class="hl-1">.</span><span class="hl-2">filter</span><span class="hl-1">(</span><span class="hl-0">p</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-0">p</span><span class="hl-1">.</span><span class="hl-0">id</span><span class="hl-1"> === </span><span class="hl-0">id</span><span class="hl-1">).</span><span class="hl-2">include</span><span class="hl-1">(</span><span class="hl-0">p</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-0">p</span><span class="hl-1">.</span><span class="hl-0">details</span><span class="hl-1">), { </span><span class="hl-0">id:</span><span class="hl-1"> </span><span class="hl-0">orderId</span><span class="hl-1"> })</span><br/><span class="hl-1">            </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-2">log</span><span class="hl-1">(</span><span class="hl-9">JSON</span><span class="hl-1">.</span><span class="hl-2">stringify</span><span class="hl-1">(</span><span class="hl-0">order3</span><span class="hl-1">))</span><br/><span class="hl-1">            </span><span class="hl-8">// delete</span><br/><span class="hl-1">            </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-10">deleteCount</span><span class="hl-1"> = </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-0">tr</span><span class="hl-1">.</span><span class="hl-2">lambda</span><span class="hl-1">(() </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-0">Orders</span><span class="hl-1">.</span><span class="hl-2">delete</span><span class="hl-1">().</span><span class="hl-2">include</span><span class="hl-1">(</span><span class="hl-0">p</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-0">p</span><span class="hl-1">.</span><span class="hl-0">details</span><span class="hl-1">), </span><span class="hl-0">order3</span><span class="hl-1">[</span><span class="hl-6">0</span><span class="hl-1">])</span><br/><span class="hl-1">            </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-2">log</span><span class="hl-1">(</span><span class="hl-0">deleteCount</span><span class="hl-1">)</span><br/><span class="hl-1">            </span><span class="hl-8">// get order</span><br/><span class="hl-1">            </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-10">order4</span><span class="hl-1"> = </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-0">tr</span><span class="hl-1">.</span><span class="hl-2">lambda</span><span class="hl-1">((</span><span class="hl-0">id</span><span class="hl-1">:</span><span class="hl-9">number</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-0">Orders</span><span class="hl-1">.</span><span class="hl-2">filter</span><span class="hl-1">(</span><span class="hl-0">p</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-0">p</span><span class="hl-1">.</span><span class="hl-0">id</span><span class="hl-1"> === </span><span class="hl-0">id</span><span class="hl-1">).</span><span class="hl-2">include</span><span class="hl-1">(</span><span class="hl-0">p</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-0">p</span><span class="hl-1">.</span><span class="hl-0">details</span><span class="hl-1">), { </span><span class="hl-0">id:</span><span class="hl-1"> </span><span class="hl-0">orderId</span><span class="hl-1"> })</span><br/><span class="hl-1">            </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-2">log</span><span class="hl-1">(</span><span class="hl-9">JSON</span><span class="hl-1">.</span><span class="hl-2">stringify</span><span class="hl-1">(</span><span class="hl-0">order4</span><span class="hl-1">))</span><br/><span class="hl-1">        })</span><br/><span class="hl-1">    } </span><span class="hl-7">catch</span><span class="hl-1"> (</span><span class="hl-0">error</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-2">log</span><span class="hl-1">(</span><span class="hl-0">error</span><span class="hl-1">)</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">})()</span>
</code></pre>

<a href="#operators" id="operators" style="color: inherit; text-decoration: none;">
  <h3>Operators</h3>
</a>
<p>The operators used are the same as those of javascript.</p>
<p>below access to their documentation:</p>
<ul>
<li><a href="https://github.com/FlavioLionelRita/lambdaorm/wiki/Operators-Arithmectic">Arithmectic</a></li>
<li><a href="https://github.com/FlavioLionelRita/lambdaorm/wiki/Operators-Assignment">Assignment</a></li>
<li><a href="https://github.com/FlavioLionelRita/lambdaorm/wiki/Operators-Bitwise">Bitwise</a></li>
<li><a href="https://github.com/FlavioLionelRita/lambdaorm/wiki/Operators-Comparison">Comparison</a></li>
<li><a href="https://github.com/FlavioLionelRita/lambdaorm/wiki/Operators-Logical">Logical</a></li>
<li><a href="https://github.com/FlavioLionelRita/lambdaorm/wiki/Operatos-Array">Array</a></li>
</ul>

<a href="#functions" id="functions" style="color: inherit; text-decoration: none;">
  <h3>Functions</h3>
</a>
<p>In the case of functions, some correspond to javascript functions and others are specific to sql</p>
<p>below access to their documentation:</p>
<ul>
<li><a href="https://github.com/FlavioLionelRita/lambdaorm/wiki/Functions-Numeric">Numeric</a></li>
<li><a href="https://github.com/FlavioLionelRita/lambdaorm/wiki/Functions-String">String</a></li>
<li><a href="https://github.com/FlavioLionelRita/lambdaorm/wiki/Functions-Datetime">Datetime</a></li>
<li><a href="https://github.com/FlavioLionelRita/lambdaorm/wiki/Functions-Convert">Convert</a></li>
<li><a href="https://github.com/FlavioLionelRita/lambdaorm/wiki/Functions-Nullable">Nullable</a></li>
<li><a href="https://github.com/FlavioLionelRita/lambdaorm/wiki/Functions-General">General</a></li>
<li><a href="https://github.com/FlavioLionelRita/lambdaorm/wiki/Function-Sort">Sort</a></li>
<li><a href="https://github.com/FlavioLionelRita/lambdaorm/wiki/Functions-Conditionals">Conditionals</a></li>
<li><a href="https://github.com/FlavioLionelRita/lambdaorm/wiki/Functions-Group">Group</a></li>
<li><a href="https://github.com/FlavioLionelRita/lambdaorm/wiki/Functions-Metadata">Metadata</a></li>
</ul>

<a href="#metadata" id="metadata" style="color: inherit; text-decoration: none;">
  <h2>Metadata</h2>
</a>
<p>TODO</p>

<a href="#config" id="config" style="color: inherit; text-decoration: none;">
  <h2>Config</h2>
</a>

<a href="#databases" id="databases" style="color: inherit; text-decoration: none;">
  <h3>Databases</h3>
</a>
<p>TODO</p>

<a href="#schemas" id="schemas" style="color: inherit; text-decoration: none;">
  <h3>Schemas</h3>
</a>
<p>TODO</p>

<a href="#installation" id="installation" style="color: inherit; text-decoration: none;">
  <h2>Installation</h2>
</a>
<p>install Lambda ORM</p>
<pre><code class="language-sh"><span class="hl-1">npm install lambdaorm </span>
</code></pre>
<p>And add the packages according to the databases to be used</p>
<pre><code class="language-sh"><span class="hl-1">npm install mysql2 </span><br/><span class="hl-1">npm install mariadb</span><br/><span class="hl-1">npm install pg </span><span class="hl-8"># Postgres </span><br/><span class="hl-1">npm install tedious </span><span class="hl-8"># Microsoft SQL Server</span><br/><span class="hl-1">npm install oracledb</span>
</code></pre>
<p>to use cli commands install package globally</p>
<pre><code class="language-sh"><span class="hl-1">npm install lambdaorm -g</span><br/>
</code></pre>

<a href="#cli" id="cli" style="color: inherit; text-decoration: none;">
  <h2>CLI</h2>
</a>
<table>
<thead>
<tr>
<th align="left">Command</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">version</td>
<td align="left">Prints lambdaorm version this project uses.</td>
</tr>
<tr>
<td align="left">init</td>
<td align="left">Generates lambdaorm project structure.</td>
</tr>
<tr>
<td align="left">model</td>
<td align="left">Generate model.</td>
</tr>
<tr>
<td align="left">sync</td>
<td align="left">Syncronize database.</td>
</tr>
<tr>
<td align="left">export</td>
<td align="left">Export data from a database</td>
</tr>
<tr>
<td align="left">import</td>
<td align="left">Import data from file to database</td>
</tr>
<tr>
<td align="left">drop</td>
<td align="left">Removes all database objects but not the database.</td>
</tr>
<tr>
<td align="left">expression</td>
<td align="left">Run an expression lambda or return information</td>
</tr>
</tbody></table>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Modules</a></li><li class=" tsd-kind-module"><a href="modules/connection.html">connection</a></li><li class=" tsd-kind-module"><a href="modules/database.html">database</a></li><li class=" tsd-kind-module"><a href="modules/language.html">language</a></li><li class=" tsd-kind-module"><a href="modules/manager.html">manager</a></li><li class=" tsd-kind-module"><a href="modules/model.html">model</a></li><li class=" tsd-kind-module"><a href="modules/orm.html">orm</a></li><li class=" tsd-kind-module"><a href="modules/parser.html">parser</a></li><li class=" tsd-kind-module"><a href="modules/schema.html">schema</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>