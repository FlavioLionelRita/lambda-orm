CREATE TABLE categories (categoryid serial,categoryname VARCHAR(80) NOT NULL ,description VARCHAR(1000)  ,CONSTRAINT categories_PK PRIMARY KEY (categoryid));
ALTER TABLE categories ADD CONSTRAINT categories_UK UNIQUE (categoryname);
CREATE TABLE customers (customerid VARCHAR(5) NOT NULL ,companyname VARCHAR(80) NOT NULL ,contactname VARCHAR(80)  ,contacttitle VARCHAR(80)  ,postalcode VARCHAR(20)  ,address VARCHAR(80)  ,city VARCHAR(80)  ,region VARCHAR(80)  ,country VARCHAR(80)  ,CONSTRAINT customers_PK PRIMARY KEY (customerid));
CREATE TABLE suppliers (supplierid serial,companyname VARCHAR(80) NOT NULL ,contactname VARCHAR(80)  ,homepage VARCHAR(200)  ,postalcode VARCHAR(20)  ,phone VARCHAR(20)  ,address VARCHAR(80)  ,city VARCHAR(80)  ,region VARCHAR(80)  ,country VARCHAR(80)  ,CONSTRAINT suppliers_PK PRIMARY KEY (supplierid));
ALTER TABLE suppliers ADD CONSTRAINT suppliers_UK UNIQUE (companyname);
CREATE TABLE employees (employeeid serial,lastname VARCHAR(80) NOT NULL ,firstname VARCHAR(80) NOT NULL ,titleofcourtesy VARCHAR(80)  ,birthdate TIMESTAMP  ,hiredate TIMESTAMP  ,homephone VARCHAR(80)  ,reportsto INTEGER  ,postalcode VARCHAR(20)  ,title VARCHAR(80)  ,address VARCHAR(80)  ,city VARCHAR(80)  ,region VARCHAR(80)  ,country VARCHAR(80)  ,CONSTRAINT employees_PK PRIMARY KEY (employeeid));
ALTER TABLE employees ADD CONSTRAINT employees_UK UNIQUE (lastname,firstname);
CREATE TABLE orders (orderid serial,customerid VARCHAR(5) NOT NULL ,employeeid INTEGER NOT NULL ,orderdate TIMESTAMP  ,requireddate DATE  ,shippeddate DATE  ,shipvia INTEGER  ,shipname VARCHAR(80)  ,shipaddress VARCHAR(80)  ,shipcity VARCHAR(80)  ,shipregion VARCHAR(80)  ,shippostalcode VARCHAR(20)  ,shipcountry VARCHAR(80)  ,freight DECIMAL(10,4)  ,CONSTRAINT orders_PK PRIMARY KEY (customerid,employeeid,orderid,orderid));
CREATE TABLE shippers (shipperid serial,companyname VARCHAR(80) NOT NULL ,phone VARCHAR(20)  ,CONSTRAINT shippers_PK PRIMARY KEY (shipperid));
ALTER TABLE shippers ADD CONSTRAINT shippers_UK UNIQUE (companyname);
CREATE TABLE products (productid serial,productname VARCHAR(80) NOT NULL ,supplierid INTEGER NOT NULL ,categoryid INTEGER NOT NULL ,quantityperunit VARCHAR(80)  ,unitprice DECIMAL(10,4)  ,unitsinstock DECIMAL(10,4)  ,unitsonorder DECIMAL(10,4)  ,reorderlevel DECIMAL(10,4)  ,discontinued BOOLEAN  ,CONSTRAINT products_PK PRIMARY KEY (categoryid,productid,productid,supplierid));
ALTER TABLE products ADD CONSTRAINT products_UK UNIQUE (productname,supplierid);
CREATE TABLE "Order Details" (orderid INTEGER NOT NULL ,productid INTEGER NOT NULL ,unitprice DECIMAL(10,4)  ,quantity DECIMAL(10,4)  ,discount DECIMAL(10,4)  ,CONSTRAINT "Order Details_PK" PRIMARY KEY (orderid,productid,orderid,productid));
CREATE INDEX customers_customersName ON customers (companyname);
ALTER TABLE employees ADD CONSTRAINT employees_reportsTo_FK FOREIGN KEY (reportsto) REFERENCES employees (employeeid);
CREATE INDEX orders_ordersOrderDate ON orders (orderdate);
CREATE INDEX orders_ordersShippedDate ON orders (shippeddate);
ALTER TABLE orders ADD CONSTRAINT orders_customer_FK FOREIGN KEY (customerid) REFERENCES customers (customerid);
ALTER TABLE orders ADD CONSTRAINT orders_employee_FK FOREIGN KEY (employeeid) REFERENCES employees (employeeid);
ALTER TABLE products ADD CONSTRAINT products_category_FK FOREIGN KEY (categoryid) REFERENCES categories (categoryid);
ALTER TABLE products ADD CONSTRAINT products_supplier_FK FOREIGN KEY (supplierid) REFERENCES suppliers (supplierid);
ALTER TABLE "Order Details" ADD CONSTRAINT "Order Details_order_FK" FOREIGN KEY (orderid) REFERENCES orders (orderid);
ALTER TABLE "Order Details" ADD CONSTRAINT "Order Details_product_FK" FOREIGN KEY (productid) REFERENCES products (productid);