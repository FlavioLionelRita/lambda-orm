{
  "name": "groupBy",
  "context": {
    "id": 1
  },
  "cases": [
    {
      "name": "MySQL",
      "tests": [
        {
          "test": "Products.map(p => ({ maxPrice: max(p.price) }))",
          "result": [
            {
              "maxPrice": 263.5
            }
          ]
        },
        {
          "test": "Products.map(p => ({ minPrice: min(p.price) }))",
          "result": [
            {
              "minPrice": 2.5
            }
          ]
        },
        {
          "test": "Products.map(p => ({ total: sum(p.price) }))",
          "result": [
            {
              "total": 2222.71
            }
          ]
        },
        {
          "test": "Products.map(p => ({ average: round(avg(p.price), 4) }))",
          "result": [
            {
              "average": 28.8664
            }
          ]
        },
        {
          "test": "Products.map(p => ({ count: count(1) }))",
          "result": [
            {
              "count": 77
            }
          ]
        },
        {
          "test": "Products.map(p => ({ category: p.categoryId, largestPrice: max(p.price) }))",
          "result": [
            {
              "category": 1,
              "largestPrice": 263.5
            },
            {
              "category": 2,
              "largestPrice": 43.9
            },
            {
              "category": 3,
              "largestPrice": 81
            },
            {
              "category": 4,
              "largestPrice": 55
            },
            {
              "category": 5,
              "largestPrice": 38
            },
            {
              "category": 6,
              "largestPrice": 123.79
            },
            {
              "category": 7,
              "largestPrice": 53
            },
            {
              "category": 8,
              "largestPrice": 62.5
            }
          ]
        },
        {
          "test": "Products.map(p => ({ category: p.category.name, largestPrice: max(p.price) }))",
          "result": [
            {
              "category": "Beverages",
              "largestPrice": 263.5
            },
            {
              "category": "Condiments",
              "largestPrice": 43.9
            },
            {
              "category": "Confections",
              "largestPrice": 81
            },
            {
              "category": "Dairy Products",
              "largestPrice": 55
            },
            {
              "category": "Grains/Cereals",
              "largestPrice": 38
            },
            {
              "category": "Meat/Poultry",
              "largestPrice": 123.79
            },
            {
              "category": "Produce",
              "largestPrice": 53
            },
            {
              "category": "Seafood",
              "largestPrice": 62.5
            }
          ]
        },
        {
          "test": "Products.filter(p => p.id === id).map(p => ({ name: p.name, source: p.price, result: abs(p.price) }))",
          "result": [
            {
              "name": "Chai",
              "source": 18,
              "result": 18
            }
          ]
        },
        {
          "test": "Products.having(p => max(p.price) > 100).map(p => ({ category: p.category.name, largestPrice: max(p.price) }))",
          "result": [
            {
              "category": "Beverages",
              "largestPrice": 263.5
            },
            {
              "category": "Meat/Poultry",
              "largestPrice": 123.79
            }
          ]
        },
        {
          "test": "Orders.details.map(p => ({ subTotal: sum((p.unitPrice * p.quantity * (1 - p.discount / 100)) * 100) })).sort(p => p.subTotal)",
          "result": [
            {
              "subTotal": 135525059
            }
          ]
        },
        {
          "test": "Products.having(p => max(p.price) > 100).map(p => ({ category: p.category.name, largestPrice: max(p.price) })).sort(p => desc(p.largestPrice))",
          "result": [
            {
              "category": "Beverages",
              "largestPrice": 263.5
            },
            {
              "category": "Meat/Poultry",
              "largestPrice": 123.79
            }
          ]
        },
        {
          "test": "Products.filter(p => p.price > 5).having(p => max(p.price) > 50).map(p => ({ category: p.category.name, largestPrice: max(p.price) })).sort(p => desc(p.largestPrice))",
          "result": [
            {
              "category": "Beverages",
              "largestPrice": 263.5
            },
            {
              "category": "Meat/Poultry",
              "largestPrice": 123.79
            },
            {
              "category": "Confections",
              "largestPrice": 81
            },
            {
              "category": "Seafood",
              "largestPrice": 62.5
            },
            {
              "category": "Dairy Products",
              "largestPrice": 55
            },
            {
              "category": "Produce",
              "largestPrice": 53
            }
          ]
        }
      ],
      "errors": 0
    },
    {
      "name": "MariaDB",
      "tests": [
        {
          "test": "Products.map(p => ({ maxPrice: max(p.price) }))",
          "result": [
            {
              "maxPrice": 263.5
            }
          ]
        },
        {
          "test": "Products.map(p => ({ minPrice: min(p.price) }))",
          "result": [
            {
              "minPrice": 2.5
            }
          ]
        },
        {
          "test": "Products.map(p => ({ total: sum(p.price) }))",
          "result": [
            {
              "total": 2222.71
            }
          ]
        },
        {
          "test": "Products.map(p => ({ average: round(avg(p.price), 4) }))",
          "result": [
            {
              "average": 28.8664
            }
          ]
        },
        {
          "test": "Products.map(p => ({ count: count(1) }))",
          "result": [
            {
              "count": 77
            }
          ]
        },
        {
          "test": "Products.map(p => ({ category: p.categoryId, largestPrice: max(p.price) }))",
          "result": [
            {
              "category": 1,
              "largestPrice": 263.5
            },
            {
              "category": 2,
              "largestPrice": 43.9
            },
            {
              "category": 3,
              "largestPrice": 81
            },
            {
              "category": 4,
              "largestPrice": 55
            },
            {
              "category": 5,
              "largestPrice": 38
            },
            {
              "category": 6,
              "largestPrice": 123.79
            },
            {
              "category": 7,
              "largestPrice": 53
            },
            {
              "category": 8,
              "largestPrice": 62.5
            }
          ]
        },
        {
          "test": "Products.map(p => ({ category: p.category.name, largestPrice: max(p.price) }))",
          "result": [
            {
              "category": "Beverages",
              "largestPrice": 263.5
            },
            {
              "category": "Condiments",
              "largestPrice": 43.9
            },
            {
              "category": "Confections",
              "largestPrice": 81
            },
            {
              "category": "Dairy Products",
              "largestPrice": 55
            },
            {
              "category": "Grains/Cereals",
              "largestPrice": 38
            },
            {
              "category": "Meat/Poultry",
              "largestPrice": 123.79
            },
            {
              "category": "Produce",
              "largestPrice": 53
            },
            {
              "category": "Seafood",
              "largestPrice": 62.5
            }
          ]
        },
        {
          "test": "Products.filter(p => p.id === id).map(p => ({ name: p.name, source: p.price, result: abs(p.price) }))",
          "result": [
            {
              "name": "Chai",
              "source": 18,
              "result": 18
            }
          ]
        },
        {
          "test": "Products.having(p => max(p.price) > 100).map(p => ({ category: p.category.name, largestPrice: max(p.price) }))",
          "result": [
            {
              "category": "Beverages",
              "largestPrice": 263.5
            },
            {
              "category": "Meat/Poultry",
              "largestPrice": 123.79
            }
          ]
        },
        {
          "test": "Orders.details.map(p => ({ subTotal: sum((p.unitPrice * p.quantity * (1 - p.discount / 100)) * 100) })).sort(p => p.subTotal)",
          "result": [
            {
              "subTotal": 135525059
            }
          ]
        },
        {
          "test": "Products.having(p => max(p.price) > 100).map(p => ({ category: p.category.name, largestPrice: max(p.price) })).sort(p => desc(p.largestPrice))",
          "result": [
            {
              "category": "Beverages",
              "largestPrice": 263.5
            },
            {
              "category": "Meat/Poultry",
              "largestPrice": 123.79
            }
          ]
        },
        {
          "test": "Products.filter(p => p.price > 5).having(p => max(p.price) > 50).map(p => ({ category: p.category.name, largestPrice: max(p.price) })).sort(p => desc(p.largestPrice))",
          "result": [
            {
              "category": "Beverages",
              "largestPrice": 263.5
            },
            {
              "category": "Meat/Poultry",
              "largestPrice": 123.79
            },
            {
              "category": "Confections",
              "largestPrice": 81
            },
            {
              "category": "Seafood",
              "largestPrice": 62.5
            },
            {
              "category": "Dairy Products",
              "largestPrice": 55
            },
            {
              "category": "Produce",
              "largestPrice": 53
            }
          ]
        }
      ],
      "errors": 0
    },
    {
      "name": "PostgreSQL",
      "tests": [
        {
          "test": "Products.map(p => ({ maxPrice: max(p.price) }))",
          "result": [
            {
              "maxPrice": 263.5
            }
          ]
        },
        {
          "test": "Products.map(p => ({ minPrice: min(p.price) }))",
          "result": [
            {
              "minPrice": 2.5
            }
          ]
        },
        {
          "test": "Products.map(p => ({ total: sum(p.price) }))",
          "result": [
            {
              "total": 2222.71
            }
          ]
        },
        {
          "test": "Products.map(p => ({ average: round(avg(p.price), 4) }))",
          "result": [
            {
              "average": 28.8664
            }
          ]
        },
        {
          "test": "Products.map(p => ({ count: count(1) }))",
          "result": [
            {
              "count": 77
            }
          ]
        },
        {
          "test": "Products.map(p => ({ category: p.categoryId, largestPrice: max(p.price) }))",
          "result": [
            {
              "category": 8,
              "largestPrice": 62.5
            },
            {
              "category": 7,
              "largestPrice": 53
            },
            {
              "category": 1,
              "largestPrice": 263.5
            },
            {
              "category": 5,
              "largestPrice": 38
            },
            {
              "category": 4,
              "largestPrice": 55
            },
            {
              "category": 2,
              "largestPrice": 43.9
            },
            {
              "category": 6,
              "largestPrice": 123.79
            },
            {
              "category": 3,
              "largestPrice": 81
            }
          ]
        },
        {
          "test": "Products.map(p => ({ category: p.category.name, largestPrice: max(p.price) }))",
          "result": [
            {
              "category": "Grains/Cereals",
              "largestPrice": 38
            },
            {
              "category": "Beverages",
              "largestPrice": 263.5
            },
            {
              "category": "Dairy Products",
              "largestPrice": 55
            },
            {
              "category": "Seafood",
              "largestPrice": 62.5
            },
            {
              "category": "Produce",
              "largestPrice": 53
            },
            {
              "category": "Condiments",
              "largestPrice": 43.9
            },
            {
              "category": "Meat/Poultry",
              "largestPrice": 123.79
            },
            {
              "category": "Confections",
              "largestPrice": 81
            }
          ]
        },
        {
          "test": "Products.filter(p => p.id === id).map(p => ({ name: p.name, source: p.price, result: abs(p.price) }))",
          "result": [
            {
              "name": "Chai",
              "source": 18,
              "result": 18
            }
          ]
        },
        {
          "test": "Products.having(p => max(p.price) > 100).map(p => ({ category: p.category.name, largestPrice: max(p.price) }))",
          "result": [
            {
              "category": "Beverages",
              "largestPrice": 263.5
            },
            {
              "category": "Meat/Poultry",
              "largestPrice": 123.79
            }
          ]
        },
        {
          "test": "Orders.details.map(p => ({ subTotal: sum((p.unitPrice * p.quantity * (1 - p.discount / 100)) * 100) })).sort(p => p.subTotal)",
          "result": [
            {
              "subTotal": 135525059
            }
          ]
        },
        {
          "test": "Products.having(p => max(p.price) > 100).map(p => ({ category: p.category.name, largestPrice: max(p.price) })).sort(p => desc(p.largestPrice))",
          "result": [
            {
              "category": "Beverages",
              "largestPrice": 263.5
            },
            {
              "category": "Meat/Poultry",
              "largestPrice": 123.79
            }
          ]
        },
        {
          "test": "Products.filter(p => p.price > 5).having(p => max(p.price) > 50).map(p => ({ category: p.category.name, largestPrice: max(p.price) })).sort(p => desc(p.largestPrice))",
          "result": [
            {
              "category": "Beverages",
              "largestPrice": 263.5
            },
            {
              "category": "Meat/Poultry",
              "largestPrice": 123.79
            },
            {
              "category": "Confections",
              "largestPrice": 81
            },
            {
              "category": "Seafood",
              "largestPrice": 62.5
            },
            {
              "category": "Dairy Products",
              "largestPrice": 55
            },
            {
              "category": "Produce",
              "largestPrice": 53
            }
          ]
        }
      ],
      "errors": 0
    },
    {
      "name": "SqlServer",
      "tests": [
        {
          "test": "Products.map(p => ({ maxPrice: max(p.price) }))",
          "result": [
            {
              "maxPrice": 263.5
            }
          ]
        },
        {
          "test": "Products.map(p => ({ minPrice: min(p.price) }))",
          "result": [
            {
              "minPrice": 2.5
            }
          ]
        },
        {
          "test": "Products.map(p => ({ total: sum(p.price) }))",
          "result": [
            {
              "total": 2222.71
            }
          ]
        },
        {
          "test": "Products.map(p => ({ average: round(avg(p.price), 4) }))",
          "result": [
            {
              "average": 28.8664
            }
          ]
        },
        {
          "test": "Products.map(p => ({ count: count(1) }))",
          "result": [
            {
              "count": 77
            }
          ]
        },
        {
          "test": "Products.map(p => ({ category: p.categoryId, largestPrice: max(p.price) }))",
          "result": [
            {
              "category": 1,
              "largestPrice": 263.5
            },
            {
              "category": 2,
              "largestPrice": 43.9
            },
            {
              "category": 3,
              "largestPrice": 81
            },
            {
              "category": 4,
              "largestPrice": 55
            },
            {
              "category": 5,
              "largestPrice": 38
            },
            {
              "category": 6,
              "largestPrice": 123.79
            },
            {
              "category": 7,
              "largestPrice": 53
            },
            {
              "category": 8,
              "largestPrice": 62.5
            }
          ]
        },
        {
          "test": "Products.map(p => ({ category: p.category.name, largestPrice: max(p.price) }))",
          "result": [
            {
              "category": "Beverages",
              "largestPrice": 263.5
            },
            {
              "category": "Condiments",
              "largestPrice": 43.9
            },
            {
              "category": "Confections",
              "largestPrice": 81
            },
            {
              "category": "Dairy Products",
              "largestPrice": 55
            },
            {
              "category": "Grains/Cereals",
              "largestPrice": 38
            },
            {
              "category": "Meat/Poultry",
              "largestPrice": 123.79
            },
            {
              "category": "Produce",
              "largestPrice": 53
            },
            {
              "category": "Seafood",
              "largestPrice": 62.5
            }
          ]
        },
        {
          "test": "Products.filter(p => p.id === id).map(p => ({ name: p.name, source: p.price, result: abs(p.price) }))",
          "result": [
            {
              "name": "Chai",
              "source": 18,
              "result": 18
            }
          ]
        },
        {
          "test": "Products.having(p => max(p.price) > 100).map(p => ({ category: p.category.name, largestPrice: max(p.price) }))",
          "result": [
            {
              "category": "Beverages",
              "largestPrice": 263.5
            },
            {
              "category": "Meat/Poultry",
              "largestPrice": 123.79
            }
          ]
        },
        {
          "test": "Orders.details.map(p => ({ subTotal: sum((p.unitPrice * p.quantity * (1 - p.discount / 100)) * 100) })).sort(p => p.subTotal)",
          "result": [
            {
              "subTotal": 135525599
            }
          ]
        },
        {
          "test": "Products.having(p => max(p.price) > 100).map(p => ({ category: p.category.name, largestPrice: max(p.price) })).sort(p => desc(p.largestPrice))",
          "result": [
            {
              "category": "Beverages",
              "largestPrice": 263.5
            },
            {
              "category": "Meat/Poultry",
              "largestPrice": 123.79
            }
          ]
        },
        {
          "test": "Products.filter(p => p.price > 5).having(p => max(p.price) > 50).map(p => ({ category: p.category.name, largestPrice: max(p.price) })).sort(p => desc(p.largestPrice))",
          "result": [
            {
              "category": "Beverages",
              "largestPrice": 263.5
            },
            {
              "category": "Meat/Poultry",
              "largestPrice": 123.79
            },
            {
              "category": "Confections",
              "largestPrice": 81
            },
            {
              "category": "Seafood",
              "largestPrice": 62.5
            },
            {
              "category": "Dairy Products",
              "largestPrice": 55
            },
            {
              "category": "Produce",
              "largestPrice": 53
            }
          ]
        }
      ],
      "errors": 0
    },
    {
      "name": "Oracle",
      "tests": [
        {
          "test": "Products.map(p => ({ maxPrice: max(p.price) }))",
          "result": [
            {
              "maxPrice": 263.5
            }
          ]
        },
        {
          "test": "Products.map(p => ({ minPrice: min(p.price) }))",
          "result": [
            {
              "minPrice": 2.5
            }
          ]
        },
        {
          "test": "Products.map(p => ({ total: sum(p.price) }))",
          "result": [
            {
              "total": 2222.71
            }
          ]
        },
        {
          "test": "Products.map(p => ({ average: round(avg(p.price), 4) }))",
          "result": [
            {
              "average": 28.866400000000002
            }
          ]
        },
        {
          "test": "Products.map(p => ({ count: count(1) }))",
          "result": [
            {
              "count": 77
            }
          ]
        },
        {
          "test": "Products.map(p => ({ category: p.categoryId, largestPrice: max(p.price) }))",
          "result": [
            {
              "category": 6,
              "largestPrice": 123.79
            },
            {
              "category": 1,
              "largestPrice": 263.5
            },
            {
              "category": 7,
              "largestPrice": 53
            },
            {
              "category": 2,
              "largestPrice": 43.9
            },
            {
              "category": 8,
              "largestPrice": 62.5
            },
            {
              "category": 4,
              "largestPrice": 55
            },
            {
              "category": 5,
              "largestPrice": 38
            },
            {
              "category": 3,
              "largestPrice": 81
            }
          ]
        },
        {
          "test": "Products.map(p => ({ category: p.category.name, largestPrice: max(p.price) }))",
          "result": [
            {
              "category": "Confections",
              "largestPrice": 81
            },
            {
              "category": "Produce",
              "largestPrice": 53
            },
            {
              "category": "Seafood",
              "largestPrice": 62.5
            },
            {
              "category": "Beverages",
              "largestPrice": 263.5
            },
            {
              "category": "Grains/Cereals",
              "largestPrice": 38
            },
            {
              "category": "Condiments",
              "largestPrice": 43.9
            },
            {
              "category": "Meat/Poultry",
              "largestPrice": 123.79
            },
            {
              "category": "Dairy Products",
              "largestPrice": 55
            }
          ]
        },
        {
          "test": "Products.filter(p => p.id === id).map(p => ({ name: p.name, source: p.price, result: abs(p.price) }))",
          "result": [
            {
              "name": "Chai",
              "source": 18,
              "result": 18
            }
          ]
        },
        {
          "test": "Products.having(p => max(p.price) > 100).map(p => ({ category: p.category.name, largestPrice: max(p.price) }))",
          "result": [
            {
              "category": "Beverages",
              "largestPrice": 263.5
            },
            {
              "category": "Meat/Poultry",
              "largestPrice": 123.79
            }
          ]
        },
        {
          "test": "Orders.details.map(p => ({ subTotal: sum((p.unitPrice * p.quantity * (1 - p.discount / 100)) * 100) })).sort(p => p.subTotal)",
          "result": [
            {
              "subTotal": 135525059
            }
          ]
        },
        {
          "test": "Products.having(p => max(p.price) > 100).map(p => ({ category: p.category.name, largestPrice: max(p.price) })).sort(p => desc(p.largestPrice))",
          "result": [
            {
              "category": "Beverages",
              "largestPrice": 263.5
            },
            {
              "category": "Meat/Poultry",
              "largestPrice": 123.79
            }
          ]
        },
        {
          "test": "Products.filter(p => p.price > 5).having(p => max(p.price) > 50).map(p => ({ category: p.category.name, largestPrice: max(p.price) })).sort(p => desc(p.largestPrice))",
          "result": [
            {
              "category": "Beverages",
              "largestPrice": 263.5
            },
            {
              "category": "Meat/Poultry",
              "largestPrice": 123.79
            },
            {
              "category": "Confections",
              "largestPrice": 81
            },
            {
              "category": "Seafood",
              "largestPrice": 62.5
            },
            {
              "category": "Dairy Products",
              "largestPrice": 55
            },
            {
              "category": "Produce",
              "largestPrice": 53
            }
          ]
        }
      ],
      "errors": 0
    },
    {
      "name": "MongoDB",
      "tests": [
        {
          "test": "Products.map(p => ({ maxPrice: max(p.price) }))",
          "result": [
            {
              "_id": 0,
              "maxPrice": 263.5
            }
          ]
        },
        {
          "test": "Products.map(p => ({ minPrice: min(p.price) }))",
          "result": [
            {
              "_id": 0,
              "minPrice": 2.5
            }
          ]
        },
        {
          "test": "Products.map(p => ({ total: sum(p.price) }))",
          "result": [
            {
              "_id": 0,
              "total": 2222.71
            }
          ]
        },
        {
          "test": "Products.map(p => ({ average: round(avg(p.price), 4) }))",
          "error": "MongoServerError: The $round accumulator is a unary operator",
          "stack": "MongoServerError: The $round accumulator is a unary operator\n    at Connection.onMessage (/home/flavio/projects/lambdaOrm/lambdaorm/node_modules/mongodb/lib/cmap/connection.js:230:30)\n    at MessageStream.<anonymous> (/home/flavio/projects/lambdaOrm/lambdaorm/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (events.js:400:28)\n    at processIncomingData (/home/flavio/projects/lambdaOrm/lambdaorm/node_modules/mongodb/lib/cmap/message_stream.js:125:16)\n    at MessageStream._write (/home/flavio/projects/lambdaOrm/lambdaorm/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (internal/streams/writable.js:358:12)\n    at MessageStream.Writable.write (internal/streams/writable.js:303:10)\n    at Socket.ondata (internal/streams/readable.js:731:22)\n    at Socket.emit (events.js:400:28)\n    at addChunk (internal/streams/readable.js:293:12)"
        },
        {
          "test": "Products.map(p => ({ count: count(1) }))",
          "result": [
            {
              "_id": 0,
              "count": 77
            }
          ]
        },
        {
          "test": "Products.map(p => ({ category: p.categoryId, largestPrice: max(p.price) }))",
          "result": [
            {
              "category": 3,
              "largestPrice": 81
            },
            {
              "category": 4,
              "largestPrice": 55
            },
            {
              "category": 6,
              "largestPrice": 123.79
            },
            {
              "category": 1,
              "largestPrice": 263.5
            },
            {
              "category": 2,
              "largestPrice": 43.9
            },
            {
              "category": 5,
              "largestPrice": 38
            },
            {
              "category": 8,
              "largestPrice": 62.5
            },
            {
              "category": 7,
              "largestPrice": 53
            }
          ]
        },
        {
          "test": "Products.map(p => ({ category: p.category.name, largestPrice: max(p.price) }))",
          "result": [
            {
              "category": "Condiments",
              "largestPrice": 43.9
            },
            {
              "category": "Seafood",
              "largestPrice": 62.5
            },
            {
              "category": "Dairy Products",
              "largestPrice": 55
            },
            {
              "category": "Meat/Poultry",
              "largestPrice": 123.79
            },
            {
              "category": "Beverages",
              "largestPrice": 263.5
            },
            {
              "category": "Grains/Cereals",
              "largestPrice": 38
            },
            {
              "category": "Produce",
              "largestPrice": 53
            },
            {
              "category": "Confections",
              "largestPrice": 81
            }
          ]
        },
        {
          "test": "Products.filter(p => p.id === id).map(p => ({ name: p.name, source: p.price, result: abs(p.price) }))",
          "result": [
            {
              "name": "Chai",
              "source": 18,
              "result": 18
            }
          ]
        },
        {
          "test": "Products.having(p => max(p.price) > 100).map(p => ({ category: p.category.name, largestPrice: max(p.price) }))",
          "error": "SyntaxError: Unexpected token { in JSON at position 335",
          "stack": "SyntaxError: Unexpected token { in JSON at position 335\n    at JSON.parse (<anonymous>)\n    at MongodbConnection.parseTemplate (/home/flavio/projects/lambdaOrm/lambdaorm/build/lib/connection/dialects/MongoDB.js:307:30)\n    at MongodbConnection.<anonymous> (/home/flavio/projects/lambdaOrm/lambdaorm/build/lib/connection/dialects/MongoDB.js:60:36)\n    at Generator.next (<anonymous>)\n    at /home/flavio/projects/lambdaOrm/lambdaorm/build/lib/connection/dialects/MongoDB.js:10:71\n    at new Promise (<anonymous>)\n    at __awaiter (/home/flavio/projects/lambdaOrm/lambdaorm/build/lib/connection/dialects/MongoDB.js:6:12)\n    at MongodbConnection.select (/home/flavio/projects/lambdaOrm/lambdaorm/build/lib/connection/dialects/MongoDB.js:54:16)\n    at QuerySelectExecutor.<anonymous> (/home/flavio/projects/lambdaOrm/lambdaorm/build/lib/query/executor.js:116:49)\n    at Generator.next (<anonymous>)"
        },
        {
          "test": "Orders.details.map(p => ({ subTotal: sum((p.unitPrice * p.quantity * (1 - p.discount / 100)) * 100) })).sort(p => p.subTotal)",
          "error": "MongoServerError: PlanExecutor error during aggregation :: caused by :: $multiply only supports numeric types, not string",
          "stack": "MongoServerError: PlanExecutor error during aggregation :: caused by :: $multiply only supports numeric types, not string\n    at Connection.onMessage (/home/flavio/projects/lambdaOrm/lambdaorm/node_modules/mongodb/lib/cmap/connection.js:230:30)\n    at MessageStream.<anonymous> (/home/flavio/projects/lambdaOrm/lambdaorm/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (events.js:400:28)\n    at processIncomingData (/home/flavio/projects/lambdaOrm/lambdaorm/node_modules/mongodb/lib/cmap/message_stream.js:125:16)\n    at MessageStream._write (/home/flavio/projects/lambdaOrm/lambdaorm/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (internal/streams/writable.js:358:12)\n    at MessageStream.Writable.write (internal/streams/writable.js:303:10)\n    at Socket.ondata (internal/streams/readable.js:731:22)\n    at Socket.emit (events.js:400:28)\n    at addChunk (internal/streams/readable.js:293:12)"
        },
        {
          "test": "Products.having(p => max(p.price) > 100).map(p => ({ category: p.category.name, largestPrice: max(p.price) })).sort(p => desc(p.largestPrice))",
          "error": "SyntaxError: Unexpected token { in JSON at position 335",
          "stack": "SyntaxError: Unexpected token { in JSON at position 335\n    at JSON.parse (<anonymous>)\n    at MongodbConnection.parseTemplate (/home/flavio/projects/lambdaOrm/lambdaorm/build/lib/connection/dialects/MongoDB.js:307:30)\n    at MongodbConnection.<anonymous> (/home/flavio/projects/lambdaOrm/lambdaorm/build/lib/connection/dialects/MongoDB.js:60:36)\n    at Generator.next (<anonymous>)\n    at /home/flavio/projects/lambdaOrm/lambdaorm/build/lib/connection/dialects/MongoDB.js:10:71\n    at new Promise (<anonymous>)\n    at __awaiter (/home/flavio/projects/lambdaOrm/lambdaorm/build/lib/connection/dialects/MongoDB.js:6:12)\n    at MongodbConnection.select (/home/flavio/projects/lambdaOrm/lambdaorm/build/lib/connection/dialects/MongoDB.js:54:16)\n    at QuerySelectExecutor.<anonymous> (/home/flavio/projects/lambdaOrm/lambdaorm/build/lib/query/executor.js:116:49)\n    at Generator.next (<anonymous>)"
        },
        {
          "test": "Products.filter(p => p.price > 5).having(p => max(p.price) > 50).map(p => ({ category: p.category.name, largestPrice: max(p.price) })).sort(p => desc(p.largestPrice))",
          "error": "SyntaxError: Unexpected token { in JSON at position 381",
          "stack": "SyntaxError: Unexpected token { in JSON at position 381\n    at JSON.parse (<anonymous>)\n    at MongodbConnection.parseTemplate (/home/flavio/projects/lambdaOrm/lambdaorm/build/lib/connection/dialects/MongoDB.js:307:30)\n    at MongodbConnection.<anonymous> (/home/flavio/projects/lambdaOrm/lambdaorm/build/lib/connection/dialects/MongoDB.js:60:36)\n    at Generator.next (<anonymous>)\n    at /home/flavio/projects/lambdaOrm/lambdaorm/build/lib/connection/dialects/MongoDB.js:10:71\n    at new Promise (<anonymous>)\n    at __awaiter (/home/flavio/projects/lambdaOrm/lambdaorm/build/lib/connection/dialects/MongoDB.js:6:12)\n    at MongodbConnection.select (/home/flavio/projects/lambdaOrm/lambdaorm/build/lib/connection/dialects/MongoDB.js:54:16)\n    at QuerySelectExecutor.<anonymous> (/home/flavio/projects/lambdaOrm/lambdaorm/build/lib/query/executor.js:116:49)\n    at Generator.next (<anonymous>)"
        }
      ],
      "errors": 5
    }
  ],
  "errors": 5
}