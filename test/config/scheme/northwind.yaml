name: northwind
abstract:
  Address:
    properties:
      address: 
        field: Address
        type: string
        length: 80
      city : 
        field: City
        type: string
        length: 80
      region : 
        field: Region
        type: string
        length: 80
      postalCode : 
        field: PostalCode
        type: string
        length: 20
      country : 
        field: Country
        type: string
        length: 80 
enum:
entity:
  Employee:
    _extends: [northwind.abstract.Address]
    table: Employees
    properties:      
      id: 
        field: EmployeeID
        type: integer
        nullable: false
        primaryKey: true
        autoincrement: true
      lastName: 
        field: LastName
        nullable: false
        type: string
        length: 80
      firstName: 
        field: FirstName
        nullable: false
        type: string
        length: 80
      title: 
        field: Title
        type: string
        length: 80
      titleOfCourtesy: 
        field: TitleOfCourtesy
        type: string
        length: 80
      birthDate : 
        field: BirthDate
        type: datetime
      hireDate : 
        field: HireDate
        type: datetime
      phone: 
        field:  HomePhone
        type: string
        length: 80
      reportsToId: 
        field:  ReportsTo
        type: integer
    relations:
      reportsTo:
        type: oneToMany
        from: reportsToId
        to: 
          entity: Employee
          property: id
  Category:
    table: Categories
    properties:
      id: 
        field: CategoryID
        type: integer
        nullable: false
        primaryKey: true
        autoincrement: true
      name: 
        field: CategoryName
        nullable: false
        type: string
        length: 80
      description: 
        field: Description
        type: string
        length: 1000
  Customer:
    _extends: [northwind.abstract.Address]
    table: Customers
    properties:
      id: 
        field: CustomerID
        type: integer
        nullable: false
        primaryKey: true
        autoincrement: true
      name: 
        field: CompanyName
        nullable: false
        type: string
        length: 80
      contact: 
        field: ContactName
        type: string
        length: 80
      phone: 
        field: ContactTitle
        type: string
        length: 80
    relations:  
      orders:
        type: manyToOne 
        from: id
        to: 
          entity: Order
          property: customerId
  Shipper:
    table: Shippers
    properties:
      id: 
        field: ShipperID
        type: integer
        nullable: false
        primaryKey: true
        autoincrement: true
      name: 
        field: CompanyName
        nullable: false
        type: string
        length: 80
      phone: 
        field: Phone
        type: string
        length: 20
  Supplier:
    _extends: [northwind.abstract.Address]
    table: Suppliers
    properties:
      id: 
        field: SupplierID
        type: integer
        nullable: false
        primaryKey: true
        autoincrement: true
      name: 
        field: CompanyName
        nullable: false
        type: string
        length: 80
      contact: 
        field: ContactName
        type: string
        length: 80
      phone: 
        field: Phone
        type: string
        length: 20
      homepage: 
        field: HomePage
        type: string
        length: 80  
  Product:
    table: Products
    properties:
      id: 
        field: ProductID
        type: integer
        nullable: false
        primaryKey: true
        autoincrement: true 
      name: 
        field: ProductName
        nullable: false
        type: string
        length: 80
      supplierId: 
        field: SupplierID
        type: integer
      categoryId: 
        field: CategoryID
        type: integer
      quantity: 
        field: QuantityPerUnit
        type: decimal
      price: 
        field: UnitPrice
        type: decimal
        default: 0
      inStock: 
        field: UnitsInStock
        type: decimal
        default: 0
      onOrder: 
        field: UnitsOnOrder
        type: decimal
        default: 0
      reorderLevel: 
        field: ReorderLevel
        type: decimal
        default: 0
      discontinued: 
        field: Discontinued
        type: bool
        default: false
    relations:    
      supplier:
        type: oneToMany 
        from: supplierId
        to: 
          entity: Supplier
          property: id 
      category:
        type: oneToMany  
        from: categoryId
        to: 
          entity: Category
          property: id
  Order:
    _extends: [northwind.abstract.Address]
    table: Orders
    properties:
      id: 
        field: OrderID
        type: integer
        nullable: false
        primaryKey: true
        autoincrement: true 
      customerId: 
        field: CustomerID
        nullable: false
        type: integer
      employeeId: 
        field: EmployeeID
        nullable: false
        type: integer 
      orderDate: 
        field: OrderDate
        type: datetime 
      requiredDate: 
        field: RequiredDate
        type: datetime
      shippedDate: 
        field: ShippedDate
        type: datetime 
      shipViaId: 
        field: ShipVia
        type: integer
      freight: 
        field: Freight
        type: decimal
    relations:    
      customer:
        type: oneToMany  
        from: customerId
        to: 
          entity: Customer
          property: id 
      employee:
        type: oneToMany  
        from: employeeId
        to: 
          entity: Employee
          property: id 
      details:
        type: manyToOne 
        from: id
        to: 
          entity: OrderDetail
          property: orderId  
  OrderDetail:
    table: OrderDetails
    properties:
      id: 
        field: OrderDetailID
        type: integer
        nullable: false
        primaryKey: true
        autoincrement: true
      orderId: 
        field: OrderID
        nullable: false
        type: integer
      productId: 
        field: ProductID
        nullable: false
        type: integer
      unitPrice: 
        field: UnitPrice
        type: decimal
      quantity: 
        field: Quantity
        type: decimal
      discount: 
        field: Discount
        type: bool
    relations:   
      order:
        type: oneToMany 
        from: orderId
        to: 
          entity: Order
          property: id 
      product:
        type: oneToMany 
        from: productId
        to: 
          entity: Product
          property: id 